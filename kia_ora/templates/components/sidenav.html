<aside class="w-64 bg-white shadow-lg h-auto p-4 hidden lg:flex flex-col">
  <form method="GET" action="{% url 'filter_posts' %}" class="mt-4 p-3 bg-white shadow-md rounded-lg">
    <h3 class="text-lg font-semibold mb-2">Filter Posts</h3>

    <!-- Sort Order -->
    <div class="mb-2">
      <label for="sort_order" class="font-semibold text-sm">Sort by Date:</label>
      <select name="sort_order" class="w-full p-2 border rounded-md">
        <option value="newest" {% if request.GET.sort_order == "newest" %}selected{% endif %}>Newest First</option>
        <option value="oldest" {% if request.GET.sort_order == "oldest" %}selected{% endif %}>Oldest First</option>
      </select>
    </div>

    <!-- Media Type -->
    <div class="mb-2">
      <label for="media_type" class="font-semibold text-sm">Media Type:</label>
      <select name="media_type" class="w-full p-2 border rounded-md">
        <option value="all" {% if request.GET.media_type == "all" %}selected{% endif %}>All</option>
        <option value="withImages" {% if request.GET.media_type == "withImages" %}selected{% endif %}>With Images</option>
        <option value="withoutImages" {% if request.GET.media_type == "withoutImages" %}selected{% endif %}>Without Images</option>
      </select>
    </div>

    <!-- User Filter -->
    <div class="mb-2">
      <label for="user" class="font-semibold text-sm">View Posts from User:</label>
      <select name="user" class="w-full p-2 border rounded-md">
        <option value="">All Users</option>
        {% for user in users %}
          <option value="{{ user.username }}" {% if request.GET.user == user.username %}selected{% endif %}>
            {{ user.username }}
          </option>
        {% endfor %}
      </select>
    </div>

    <button type="submit" class="mt-2 bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600 transition w-full">
      Apply Filters
    </button>
  </form>
</aside>
